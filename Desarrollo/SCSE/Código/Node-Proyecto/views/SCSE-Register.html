<!DOCTYPE html>
<html lang="es">
    <head>    
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>SCSE-MenuProfesores-2</title>
        <link href="assets/CSS/SCSE-MP2.css" rel="stylesheet"/>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">     
    </head>
    <body>
        <header> 
            <div id="cabecero">
                <div id="Logo-titulo">
                    <a id="Logo" href="/views/Buscador_2.html">
                        <div id="contenedor_imagen" ><img src="assets/images/SeMaslogo_st .png"/></div>
                        <p class="separacion_elementos_cabecero">Sémás</p>
                    </a>
                    <div id="contenedor-titulo"><h2 id="titulo_head">Cursos disponibles</h2></div>
                </div>
                <nav>
                    <a href="SCSE-Login.html" ><i class="glyphicon glyphicon-log-int"></i> Ir a Login</a>
                </nav>
            </div>
        </header> 
        <section>
            <div class="row">
                <div class="col-md-4"></div>
                <div class="col-md-4">
                    <div class="panel-group">
                        <div class="panel panel-warning">
                            <div class="panel-heading" align="center">REGISTER</div>
                            <div class="panel-body" align="center">
                                <h2>Registrar</h2>
                                <input class="form-control" type="text" id="name" placeholder="Nombre"><br>
                                <input class="form-control" type="text" id="lastname" placeholder="Apellido"><br>
                                <input class="form-control" type="text" id="mail" placeholder="Correo"><br>
                                <input class="form-control" type="text" id="username" placeholder="Nombre de usuario"><br>
                                <input class="form-control" type="password" id="password" placeholder="Contraseña"><br>
                                <div class = "container text-left"> 
                                    <label><input type="radio" id="tipo1">Alumno</label>
                                    <label><input type="radio" id="tipo2">Profesor</label>
                                </div><br>
                                <div id="cod"><input class="form-control" type="text" id="code" placeholder="Codigo Alumno"><br></div>
                                <button class="btn btn-warning" id="butonRegistrar">Registrarse</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-4"></div>
            </div>
        </section>
        <script type="text/javascript" src="assets/js/SCSE-SLR.js"></script>
        <script type="text/javascript" src="https://code.jquery.com/jquery-3.6.4.js"></script>
        <script type="text/javascript">
            var opcion="";
            $("#cod").hide();
            $("#tipo1").on( "click", function() {
                $("#tipo1").prop("checked", true); 
                $("#tipo2").prop("checked", false);             
                opcion = 1;
                $("#cod").show();
            });
            $("#tipo2").on( "click", function() {
                $("#tipo2").prop("checked", true); 
                $("#tipo1").prop("checked", false); 
                opcion = 2;
                $("#cod").hide();
            });
            $("#butonRegistrar").on( "click", function() {
			    var studentdata = { name: $("#name").val(), lastname: $("#lastname").val(), mail: $("#mail").val(), username: $("#username").val(), password: $("#password").val(), tipo: opcion, codigo: $("#code").val()};
			    $.ajax({  
      			    url: "/registrarSistemaUsuario",  
      			    dataType: 'json',  
      			    type: 'POST',  
      			    data: studentdata,  
      			    success: function(data) { 
      				    if(data.estado == 1){
						    alert("Nombre de usuario repetido, por favor digite otro nombre de usuario"); 
					    }
					    else{
                            alert("Usted se acaba de registrar en el sistema");
					    }   			
      			    }
    		    });
            });
        </script>
    </body>       
</html>